<p>Currently showing data from the last year.</p>
<p>
    Please select report period:
    <select ng-model="period" ng-change="data = getReport(period)" ng-options="period for period in periods"></select>
</p>
<div ng-switch="period">
    <h3 ng-switch-when="day">
        Daily Report
    </h3>
    <h3 ng-switch-when="week">
        Weekly Report
    </h3>
    <h3 ng-switch-when="month">
        Monthly Report
    </h3>
</div>
<div ng-if="data">
    <table id="report-data" class="table table-responsive">
        <tr ng-repeat="row in data |
            offset: (currentPage-1)*rowsPerPage |
            limitTo: rowsPerPage">
            <td ng-repeat="rating in row.ratings" class="text-center">
                <div ng-class="{'report-value': true, 'value-high': (rating.average >= 7), 'value-mid': (rating.average >= 4 && rating.average <7)}">
                    {{rating | formatValue}}
                </div>
                {{rating | formatLabel:period}}
            </td>
        </tr>
    </table>
    <div ng-if="pageCount() > 1" class=" text-center">
        <ul class="pagination">
            <li ng-class="prevPageDisabled()">
                <a href ng-click="prevPage()">« Prev</a>
            </li>
            <li ng-repeat="n in range()"
                ng-class="{active: n == currentPage}">
                <a ng-click="setPage(n)">{{n}}</a>
            </li>
            <li ng-class="nextPageDisabled()">
                <a href ng-click="nextPage()">Next »</a>
            </li>
        </ul>
    </div>
</div>
        <style>
            #report-data td{
                border-top: none;
            }
            .nav, .pagination, .carousel, .panel-title a { cursor: pointer; }
            .report-value {
                padding-top:1em;
                text-align: center;
                border-radius: 50%;
                width: 50px;
                height: 50px;
                margin-left:auto;
                margin-right:auto;
                box-shadow: -2px -2px 2px rgba(34,34,34,0.6);
            }
            .value-high {
                background-image: -moz-radial-gradient(45px 45px 45deg, circle cover, yellow 0%, orange 100%, red 95%);
                background-image: -webkit-radial-gradient(45px 45px, circle cover, orange, red);
                background-image: radial-gradient(45px 45px 45deg, circle cover, yellow 0%, orange 100%, red 95%);
            }
            .value-mid {
                background-image: -moz-radial-gradient(45px 45px 45deg, circle cover, yellow 0%, green 100%, cyan 95%);
                background-image: -webkit-radial-gradient(45px 45px, circle cover, green, cyan);
                background-image: radial-gradient(45px 45px 45deg, circle cover, yellow 0%, green 100%, cyan 95%);
            }
            .value-low {
                background-image: -moz-radial-gradient(45px 45px 45deg, circle cover, yellow 0%, blue 100%, purple 95%);
                background-image: -webkit-radial-gradient(45px 45px, circle cover, blue, purple);
                background-image: radial-gradient(45px 45px 45deg, circle cover, yellow 0%, blue 100%, purple 95%);
            }
        </style>